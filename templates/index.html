<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>YouTube Downloader</title>
    <style>
        body { font-family: Arial; background: #fffdf7; padding: 30px; }
        input, select, button { padding: 10px; font-size: 16px; margin: 5px 0; }
        .result { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h2>ğŸ¬ YouTube ä¸‹è¼‰å™¨</h2>
    <label>å½±ç‰‡ç¶²å€ï¼š</label><br>
    <input type="text" id="url" size="60" placeholder="è«‹è²¼ä¸Š YouTube å½±ç‰‡é€£çµ"><br>
    <label>æ ¼å¼ï¼š</label><br>
    <select id="format">
        <option value="mp4">MP4 å½±ç‰‡</option>
        <option value="mp3">MP3 éŸ³è¨Š</option>
    </select><br>
    <button onclick="startDownload()">â¬‡ï¸ é–‹å§‹ä¸‹è¼‰</button>

    <div class="result" id="result"></div>

    <script>
    function startDownload() {
        const url = document.getElementById("url").value;
        const format = document.getElementById("format").value;

        document.getElementById("result").innerText = "â³ æ­£åœ¨ä¸‹è¼‰ä¸­... è«‹ç¨å€™";

        fetch("/download", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ url: url, format: format })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                document.getElementById("result").innerHTML = 
                    `âœ… ä¸‹è¼‰å®Œæˆï¼š<a href="${data.url}" target="_blank">é»æˆ‘ä¸‹è¼‰</a>`;
            } else {
                document.getElementById("result").innerHTML = "âŒ éŒ¯èª¤ï¼š" + data.error;
            }
        })
        .catch(error => {
            document.getElementById("result").innerHTML = "âŒ ç™¼ç”ŸéŒ¯èª¤ï¼š" + error;
        });
    }
    </script>
</body>
</html>
